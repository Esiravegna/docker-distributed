version: "2"

services:
  jupyter:
    build: .
    command: jupyter notebook --ip='*' --no-browser
    ports:
       - "8888:8888"
    networks:
      - front
    links:
        - dscheduler
    container_name: jupyter

  dscheduler:
    build: .
    ports:
     - "8786:8786"
    command: dscheduler --host dscheduler
    networks:
      - front
    container_name: dscheduler

  dworker:
    build: .
    command: dworker dscheduler:8786
    networks:
      - front
    links:
        - dscheduler

networks:
  front:
    # Enable multi-host communication
    driver: overlay
